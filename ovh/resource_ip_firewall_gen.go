// Code generated by terraform-plugin-framework-generator DO NOT EDIT.

package ovh

import (
	"context"
	ovhtypes "github.com/ovh/terraform-provider-ovh/v2/ovh/types"

	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
)

func IpFirewallResourceSchema(ctx context.Context) schema.Schema {
	return schema.Schema{
		Attributes: map[string]schema.Attribute{
			"enabled": schema.BoolAttribute{
				CustomType: ovhtypes.TfBoolType{},
				Computed:   true,
				Optional:   true,
			},
			"ip": schema.StringAttribute{
				CustomType:          ovhtypes.TfStringType{},
				Required:            true,
				Description:         "IP (v4 or v6) CIDR notation (e.g., 192.0.2.0/24)",
				MarkdownDescription: "IP (v4 or v6) CIDR notation (e.g., 192.0.2.0/24)",
			},
			"ip_on_firewall": schema.StringAttribute{
				CustomType:          ovhtypes.TfStringType{},
				Required:            true,
				Description:         "IPv4 address (e.g., 192.0.2.0)",
				MarkdownDescription: "IPv4 address (e.g., 192.0.2.0)",
			},
			"state": schema.StringAttribute{
				CustomType:          ovhtypes.TfStringType{},
				Computed:            true,
				Description:         "Current state of your ip on firewall",
				MarkdownDescription: "Current state of your ip on firewall",
			},
		},
	}
}

type IpFirewallModel struct {
	Enabled      ovhtypes.TfBoolValue   `tfsdk:"enabled" json:"enabled"`
	Ip           ovhtypes.TfStringValue `tfsdk:"ip" json:"ip"`
	IpOnFirewall ovhtypes.TfStringValue `tfsdk:"ip_on_firewall" json:"ipOnFirewall"`
	State        ovhtypes.TfStringValue `tfsdk:"state" json:"state"`
}

func (v *IpFirewallModel) MergeWith(other *IpFirewallModel) {
	if (v.Enabled.IsUnknown() || v.Enabled.IsNull()) && !other.Enabled.IsUnknown() {
		v.Enabled = other.Enabled
	}

	if (v.Ip.IsUnknown() || v.Ip.IsNull()) && !other.Ip.IsUnknown() {
		v.Ip = other.Ip
	}

	if (v.IpOnFirewall.IsUnknown() || v.IpOnFirewall.IsNull()) && !other.IpOnFirewall.IsUnknown() {
		v.IpOnFirewall = other.IpOnFirewall
	}

	if (v.State.IsUnknown() || v.State.IsNull()) && !other.State.IsUnknown() {
		v.State = other.State
	}
}

type IpFirewallWritableModel struct {
	Enabled      *ovhtypes.TfBoolValue   `tfsdk:"enabled" json:"enabled,omitempty"`
	IpOnFirewall *ovhtypes.TfStringValue `tfsdk:"ip_on_firewall" json:"ipOnFirewall,omitempty"`
}

func (v IpFirewallModel) ToCreate() *IpFirewallWritableModel {
	res := &IpFirewallWritableModel{}

	if !v.IpOnFirewall.IsUnknown() {
		res.IpOnFirewall = &v.IpOnFirewall
	}

	return res
}

func (v IpFirewallModel) ToUpdate() *IpFirewallWritableModel {
	res := &IpFirewallWritableModel{}

	if !v.Enabled.IsUnknown() {
		res.Enabled = &v.Enabled
	}

	return res
}

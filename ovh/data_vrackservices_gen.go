// Code generated by terraform-plugin-framework-generator DO NOT EDIT.

package ovh

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework/types"
	ovhtypes "github.com/ovh/terraform-provider-ovh/v2/ovh/types"

	"github.com/hashicorp/terraform-plugin-framework/datasource/schema"
)

func VrackservicesDataSourceSchema(ctx context.Context) schema.Schema {
	attrs := map[string]schema.Attribute{
		"checksum": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Computed:            true,
			Description:         "Computed hash used to control concurrent modification requests. Here, it represents the current target specification value",
			MarkdownDescription: "Computed hash used to control concurrent modification requests. Here, it represents the current target specification value",
		},
		"created_at": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Computed:            true,
			Description:         "Date of the vRack Services delivery",
			MarkdownDescription: "Date of the vRack Services delivery",
		},
		"current_state": schema.SingleNestedAttribute{
			Attributes: map[string]schema.Attribute{
				"product_status": schema.StringAttribute{
					CustomType:          ovhtypes.TfStringType{},
					Computed:            true,
					Description:         "Product status of the vRack Services",
					MarkdownDescription: "Product status of the vRack Services",
				},
				"region": schema.StringAttribute{
					CustomType:          ovhtypes.TfStringType{},
					Computed:            true,
					Description:         "Region of the vRack Services. List of compatible regions can be retrieved from /reference/region",
					MarkdownDescription: "Region of the vRack Services. List of compatible regions can be retrieved from /reference/region",
				},
				"subnets": schema.ListNestedAttribute{
					NestedObject: schema.NestedAttributeObject{
						Attributes: map[string]schema.Attribute{
							"cidr": schema.StringAttribute{
								CustomType:          ovhtypes.TfStringType{},
								Computed:            true,
								Description:         "IP address range of the subnet in CIDR format",
								MarkdownDescription: "IP address range of the subnet in CIDR format",
							},
							"display_name": schema.StringAttribute{
								CustomType:          ovhtypes.TfStringType{},
								Computed:            true,
								Description:         "Display name of the subnet",
								MarkdownDescription: "Display name of the subnet",
							},
							"service_endpoints": schema.ListNestedAttribute{
								NestedObject: schema.NestedAttributeObject{
									Attributes: map[string]schema.Attribute{
										"endpoints": schema.ListNestedAttribute{
											NestedObject: schema.NestedAttributeObject{
												Attributes: map[string]schema.Attribute{
													"description": schema.StringAttribute{
														CustomType:          ovhtypes.TfStringType{},
														Computed:            true,
														Description:         "IP description defined in the managed service",
														MarkdownDescription: "IP description defined in the managed service",
													},
													"ip": schema.StringAttribute{
														CustomType:          ovhtypes.TfStringType{},
														Computed:            true,
														Description:         "IP address assigned by OVHcloud",
														MarkdownDescription: "IP address assigned by OVHcloud",
													},
												},
												CustomType: CurrentStateSubnetsServiceEndpointsEndpointsType{
													ObjectType: types.ObjectType{
														AttrTypes: CurrentStateSubnetsServiceEndpointsEndpointsValue{}.AttributeTypes(ctx),
													},
												},
											},
											CustomType:          ovhtypes.NewTfListNestedType[CurrentStateSubnetsServiceEndpointsEndpointsValue](ctx),
											Computed:            true,
											Description:         "Endpoints representing the IPs assigned to the managed services",
											MarkdownDescription: "Endpoints representing the IPs assigned to the managed services",
										},
										"managed_service_urn": schema.StringAttribute{
											CustomType:          ovhtypes.TfStringType{},
											Computed:            true,
											Description:         "IAM Resource URN of the managed service. Compatible managed service types are listed by /reference/compatibleManagedServiceType call.",
											MarkdownDescription: "IAM Resource URN of the managed service. Compatible managed service types are listed by /reference/compatibleManagedServiceType call.",
										},
									},
									CustomType: CurrentStateSubnetsServiceEndpointsType{
										ObjectType: types.ObjectType{
											AttrTypes: CurrentStateSubnetsServiceEndpointsValue{}.AttributeTypes(ctx),
										},
									},
								},
								CustomType:          ovhtypes.NewTfListNestedType[CurrentStateSubnetsServiceEndpointsValue](ctx),
								Computed:            true,
								Description:         "Service endpoints of the subnet",
								MarkdownDescription: "Service endpoints of the subnet",
							},
							"service_range": schema.SingleNestedAttribute{
								Attributes: map[string]schema.Attribute{
									"cidr": schema.StringAttribute{
										CustomType:          ovhtypes.TfStringType{},
										Computed:            true,
										Description:         "CIDR dedicated to the subnet's services",
										MarkdownDescription: "CIDR dedicated to the subnet's services",
									},
									"remaining_ips": schema.Int64Attribute{
										CustomType:          ovhtypes.TfInt64Type{},
										Computed:            true,
										Description:         "Number of remaining IPs in the service range",
										MarkdownDescription: "Number of remaining IPs in the service range",
									},
									"reserved_ips": schema.Int64Attribute{
										CustomType:          ovhtypes.TfInt64Type{},
										Computed:            true,
										Description:         "Number of service range IPs reserved by OVHcloud",
										MarkdownDescription: "Number of service range IPs reserved by OVHcloud",
									},
									"used_ips": schema.Int64Attribute{
										CustomType:          ovhtypes.TfInt64Type{},
										Computed:            true,
										Description:         "Number of service range IPs assigned to the managed services",
										MarkdownDescription: "Number of service range IPs assigned to the managed services",
									},
								},
								CustomType: CurrentStateSubnetsServiceRangeType{
									ObjectType: types.ObjectType{
										AttrTypes: CurrentStateSubnetsServiceRangeValue{}.AttributeTypes(ctx),
									},
								},
								Computed:            true,
								Description:         "Defines a smaller subnet dedicated to the managed services IPs",
								MarkdownDescription: "Defines a smaller subnet dedicated to the managed services IPs",
							},
							"vlan": schema.Int64Attribute{
								CustomType:          ovhtypes.TfInt64Type{},
								Computed:            true,
								Description:         "Unique inner VLAN that allows subnets segregation",
								MarkdownDescription: "Unique inner VLAN that allows subnets segregation",
							},
						},
						CustomType: CurrentStateSubnetsType{
							ObjectType: types.ObjectType{
								AttrTypes: CurrentStateSubnetsValue{}.AttributeTypes(ctx),
							},
						},
					},
					CustomType:          ovhtypes.NewTfListNestedType[CurrentStateSubnetsValue](ctx),
					Computed:            true,
					Description:         "Subnets of the current vRack Services",
					MarkdownDescription: "Subnets of the current vRack Services",
				},
			},
			CustomType: VrackServicesCurrentStateType{
				ObjectType: types.ObjectType{
					AttrTypes: VrackServicesCurrentStateValue{}.AttributeTypes(ctx),
				},
			},
			Computed:            true,
			Description:         "Current configuration applied to the vRack Services",
			MarkdownDescription: "Current configuration applied to the vRack Services",
		},
		"current_tasks": schema.ListNestedAttribute{
			NestedObject: schema.NestedAttributeObject{
				Attributes: map[string]schema.Attribute{
					"id": schema.StringAttribute{
						CustomType:          ovhtypes.TfStringType{},
						Computed:            true,
						Description:         "Identifier of the current task",
						MarkdownDescription: "Identifier of the current task",
					},
					"link": schema.StringAttribute{
						CustomType:          ovhtypes.TfStringType{},
						Computed:            true,
						Description:         "Link to the task details",
						MarkdownDescription: "Link to the task details",
					},
					"status": schema.StringAttribute{
						CustomType:          ovhtypes.TfStringType{},
						Computed:            true,
						Description:         "Current global status of the current task",
						MarkdownDescription: "Current global status of the current task",
					},
					"type": schema.StringAttribute{
						CustomType:          ovhtypes.TfStringType{},
						Computed:            true,
						Description:         "Type of the current task",
						MarkdownDescription: "Type of the current task",
					},
				},
				CustomType: CurrentTasksType{
					ObjectType: types.ObjectType{
						AttrTypes: CurrentTasksValue{}.AttributeTypes(ctx),
					},
				},
			},
			CustomType:          ovhtypes.NewTfListNestedType[CurrentTasksValue](ctx),
			Computed:            true,
			Description:         "Asynchronous operations ongoing on the vRack Services",
			MarkdownDescription: "Asynchronous operations ongoing on the vRack Services",
		},
		"iam": schema.SingleNestedAttribute{
			Attributes: map[string]schema.Attribute{
				"display_name": schema.StringAttribute{
					CustomType:          ovhtypes.TfStringType{},
					Computed:            true,
					Description:         "Resource display name",
					MarkdownDescription: "Resource display name",
				},
				"id": schema.StringAttribute{
					CustomType:          ovhtypes.TfStringType{},
					Computed:            true,
					Description:         "Unique identifier of the resource",
					MarkdownDescription: "Unique identifier of the resource",
				},
				"state": schema.StringAttribute{
					CustomType:          ovhtypes.TfStringType{},
					Computed:            true,
					Description:         "Resource state",
					MarkdownDescription: "Resource state",
				},
				"tags": schema.MapAttribute{
					CustomType:          ovhtypes.NewTfMapNestedType[ovhtypes.TfStringValue](ctx),
					Computed:            true,
					Description:         "Resource tags. Tags that were internally computed are prefixed with ovh:",
					MarkdownDescription: "Resource tags. Tags that were internally computed are prefixed with ovh:",
				},
				"urn": schema.StringAttribute{
					CustomType:          ovhtypes.TfStringType{},
					Computed:            true,
					Description:         "Unique resource name used in policies",
					MarkdownDescription: "Unique resource name used in policies",
				},
			},
			CustomType: VrackservicessIamType{
				ObjectType: types.ObjectType{
					AttrTypes: VrackservicessIamValue{}.AttributeTypes(ctx),
				},
			},
			Computed:            true,
			Description:         "IAM resource metadata",
			MarkdownDescription: "IAM resource metadata",
		},
		"id": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Computed:            true,
			Description:         "Unique identifier",
			MarkdownDescription: "Unique identifier",
		},
		"resource_status": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Computed:            true,
			Description:         "Reflects the readiness of the vRack Services. A new target specification request will be accepted only in `READY` status",
			MarkdownDescription: "Reflects the readiness of the vRack Services. A new target specification request will be accepted only in `READY` status",
		},
		"target_spec": schema.SingleNestedAttribute{
			Attributes: map[string]schema.Attribute{
				"subnets": schema.ListNestedAttribute{
					NestedObject: schema.NestedAttributeObject{
						Attributes: map[string]schema.Attribute{
							"cidr": schema.StringAttribute{
								CustomType:          ovhtypes.TfStringType{},
								Computed:            true,
								Description:         "IP address range of the subnet in CIDR format. Must be a private network address (RFC1918). Authorized range for prefix length: /16 to /24",
								MarkdownDescription: "IP address range of the subnet in CIDR format. Must be a private network address (RFC1918). Authorized range for prefix length: /16 to /24",
							},
							"display_name": schema.StringAttribute{
								CustomType:          ovhtypes.TfStringType{},
								Computed:            true,
								Description:         "Display name of the subnet. Format must follow `^[ a-zA-Z0-9-_.]{0,40}$`",
								MarkdownDescription: "Display name of the subnet. Format must follow `^[ a-zA-Z0-9-_.]{0,40}$`",
							},
							"service_endpoints": schema.ListNestedAttribute{
								NestedObject: schema.NestedAttributeObject{
									Attributes: map[string]schema.Attribute{
										"managed_service_urn": schema.StringAttribute{
											CustomType:          ovhtypes.TfStringType{},
											Computed:            true,
											Description:         "IAM Resource URN of the managed service. Managed service Region must match vRack Services Region. Compatible managed service types are listed by /reference/compatibleManagedServiceType call",
											MarkdownDescription: "IAM Resource URN of the managed service. Managed service Region must match vRack Services Region. Compatible managed service types are listed by /reference/compatibleManagedServiceType call",
										},
									},
									CustomType: TargetSpecSubnetsServiceEndpointsType{
										ObjectType: types.ObjectType{
											AttrTypes: TargetSpecSubnetsServiceEndpointsValue{}.AttributeTypes(ctx),
										},
									},
								},
								CustomType:          ovhtypes.NewTfListNestedType[TargetSpecSubnetsServiceEndpointsValue](ctx),
								Computed:            true,
								Description:         "Target specification of the Service Endpoints",
								MarkdownDescription: "Target specification of the Service Endpoints",
							},
							"service_range": schema.SingleNestedAttribute{
								Attributes: map[string]schema.Attribute{
									"cidr": schema.StringAttribute{
										CustomType:          ovhtypes.TfStringType{},
										Computed:            true,
										Description:         "IP address range dedicated to the subnet's services in CIDR format. Must be a private network address (RFC1918). Must be a sub-network of the subnet. Authorized range for prefix length: /27 to /29",
										MarkdownDescription: "IP address range dedicated to the subnet's services in CIDR format. Must be a private network address (RFC1918). Must be a sub-network of the subnet. Authorized range for prefix length: /27 to /29",
									},
								},
								CustomType: TargetSpecSubnetsServiceRangeType{
									ObjectType: types.ObjectType{
										AttrTypes: TargetSpecSubnetsServiceRangeValue{}.AttributeTypes(ctx),
									},
								},
								Computed:            true,
								Description:         "Defines a smaller subnet dedicated to the managed service IPs",
								MarkdownDescription: "Defines a smaller subnet dedicated to the managed service IPs",
							},
							"vlan": schema.Int64Attribute{
								CustomType:          ovhtypes.TfInt64Type{},
								Computed:            true,
								Description:         "Unique inner VLAN that allows subnets segregation. Authorized values: [2 - 4094] and `null` (untagged traffic)",
								MarkdownDescription: "Unique inner VLAN that allows subnets segregation. Authorized values: [2 - 4094] and `null` (untagged traffic)",
							},
						},
						CustomType: TargetSpecSubnetsType{
							ObjectType: types.ObjectType{
								AttrTypes: TargetSpecSubnetsValue{}.AttributeTypes(ctx),
							},
						},
					},
					CustomType:          ovhtypes.NewTfListNestedType[TargetSpecSubnetsValue](ctx),
					Computed:            true,
					Description:         "Target specification of the subnets. Maximum one subnet per vRack Services",
					MarkdownDescription: "Target specification of the subnets. Maximum one subnet per vRack Services",
				},
			},
			CustomType: VrackServicesTargetSpecType{
				ObjectType: types.ObjectType{
					AttrTypes: VrackServicesTargetSpecValue{}.AttributeTypes(ctx),
				},
			},
			Computed:            true,
			Description:         "Last target specification of the vRack Services",
			MarkdownDescription: "Last target specification of the vRack Services",
		},
		"updated_at": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Computed:            true,
			Description:         "Date of the Last vRack Services update",
			MarkdownDescription: "Date of the Last vRack Services update",
		},
		"vrack_services_id": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Required:            true,
			Description:         "Vrack services ID",
			MarkdownDescription: "Vrack services ID",
		},
	}

	return schema.Schema{
		Description: "Retrieve a vRack Services",
		Attributes:  attrs,
	}
}

type VrackservicesModel struct {
	Checksum        ovhtypes.TfStringValue                        `tfsdk:"checksum" json:"checksum"`
	CreatedAt       ovhtypes.TfStringValue                        `tfsdk:"created_at" json:"createdAt"`
	CurrentState    VrackServicesCurrentStateValue                `tfsdk:"current_state" json:"currentState"`
	CurrentTasks    ovhtypes.TfListNestedValue[CurrentTasksValue] `tfsdk:"current_tasks" json:"currentTasks"`
	Iam             VrackservicessIamValue                        `tfsdk:"iam" json:"iam"`
	Id              ovhtypes.TfStringValue                        `tfsdk:"id" json:"id"`
	ResourceStatus  ovhtypes.TfStringValue                        `tfsdk:"resource_status" json:"resourceStatus"`
	TargetSpec      VrackServicesTargetSpecValue                  `tfsdk:"target_spec" json:"targetSpec"`
	UpdatedAt       ovhtypes.TfStringValue                        `tfsdk:"updated_at" json:"updatedAt"`
	VrackServicesId ovhtypes.TfStringValue                        `tfsdk:"vrack_services_id" json:"vrackServicesId"`
}

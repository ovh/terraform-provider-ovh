// Code generated by terraform-plugin-framework-generator DO NOT EDIT.

package ovh

import (
	"context"
	"encoding/json"

	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	ovhtypes "github.com/ovh/terraform-provider-ovh/v2/ovh/types"

	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
)

func VrackDedicatedCloudResourceSchema(ctx context.Context) schema.Schema {
	attrs := map[string]schema.Attribute{
		"id": schema.StringAttribute{
			CustomType:  ovhtypes.TfStringType{},
			Computed:    true,
			Description: "Unique identifier for the resource",
		},
		"dedicated_cloud": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Required:            true,
			Description:         "your dedicated cloud service",
			MarkdownDescription: "your dedicated cloud service",
			PlanModifiers: []planmodifier.String{
				stringplanmodifier.RequiresReplace(),
			},
		},
		"service_name": schema.StringAttribute{
			CustomType:          ovhtypes.TfStringType{},
			Required:            true,
			Description:         "The internal name of your vrack",
			MarkdownDescription: "The internal name of your vrack",
			PlanModifiers: []planmodifier.String{
				stringplanmodifier.RequiresReplace(),
			},
		},
	}

	return schema.Schema{
		Attributes: attrs,
	}
}

type VrackDedicatedCloudModel struct {
	ID             ovhtypes.TfStringValue `tfsdk:"id" json:"-"`
	DedicatedCloud ovhtypes.TfStringValue `tfsdk:"dedicated_cloud" json:"dedicatedCloud"`
	ServiceName    ovhtypes.TfStringValue `tfsdk:"service_name" json:"serviceName"`
}

func (v *VrackDedicatedCloudModel) MergeWith(other *VrackDedicatedCloudModel) {
	if (v.ID.IsUnknown() || v.ID.IsNull()) && !other.ID.IsUnknown() {
		v.ID = other.ID
	}

	if (v.DedicatedCloud.IsUnknown() || v.DedicatedCloud.IsNull()) && !other.DedicatedCloud.IsUnknown() {
		v.DedicatedCloud = other.DedicatedCloud
	}

	if (v.ServiceName.IsUnknown() || v.ServiceName.IsNull()) && !other.ServiceName.IsUnknown() {
		v.ServiceName = other.ServiceName
	}
}

func (v VrackDedicatedCloudModel) ToCreate() *VrackDedicatedCloudModel {
	res := &VrackDedicatedCloudModel{}

	if !v.DedicatedCloud.IsUnknown() {
		res.DedicatedCloud = v.DedicatedCloud
	}

	return res
}

func (v VrackDedicatedCloudModel) ToUpdate() *VrackDedicatedCloudModel {
	res := &VrackDedicatedCloudModel{}

	if !v.DedicatedCloud.IsUnknown() {
		res.DedicatedCloud = v.DedicatedCloud
	}

	return res
}

func (v *VrackDedicatedCloudModel) MarshalJSON() ([]byte, error) {
	toMarshal := map[string]any{}
	if !v.DedicatedCloud.IsNull() && !v.DedicatedCloud.IsUnknown() {
		toMarshal["dedicatedCloud"] = v.DedicatedCloud
	}

	return json.Marshal(toMarshal)
}
